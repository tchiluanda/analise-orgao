<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análise Órgão</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./web/style.css">
</head>
<body>
    <header>
        <h1>
            Análise do PLOA &mdash; Visão do Decreto
        </h1>
    </header>

    <div class="fieldsets-wrapper">

    <fieldset class="opcoes-filtros">
        <legend>Filtros</legend>
        <div class="filter-wrapper">
            <div class="selecoes-wrapper">
                <select name="orgao_decreto" id="selecao-orgao">
                    <option value="todos">Todos os órgãos</option>
                </select>
                <select name="anexo" id="selecao-tipo">
                    <option value="todos">Todas as despesas</option>
                </select>
            </div>
            <div class="exclusoes-wrapper">
                <div>
                    <input type="checkbox" id="exclui-divida" name="divida">
                    <label for="exclui-divida">Exclui Dívida Mobiliária</label>
                </div>
                <div>
                    <input type="checkbox" id="exclui-rgps" name="rgps">
                    <label for="exclui-rgps">Exclui RGPS</label>
                </div>
            </div>
        </div>
    </fieldset>

    <fieldset class="opcoes-vis">
        <legend>Visualização</legend>
        
        <nav class="mission-control mode-control"

        data-mode = "agregado | detalhado"
        data-anexo = "todos | Anexo II | Anexo III | etc."
        data-agregador = "todos | agregador tal | etc."
        data-overview-focus = "true|false"
        data-overview-focus-selection = "none"
        data-detail-criteria = "changes|new"  
        data-detail-focus = "true|false"
        data-detail-focus-selection = "none"
        data-detail-color-criteria = "pct|abs|funcao_tipica">

            <button id="agregado">Agregado</button>
            <button id="detalhado">Detalhado</button>

        </nav>

        <div class="option-control">

            <nav class="mission-control option-control show-on-mode hidden" 
            data-visible-on-mode="agregado" 
            data-mode = "agregado"
            data-option = "agregador|funcao_tipica">
                <button id="orgao_decreto">Por Órgão</button>
                <button id="anexo">Por Anexo</button>
                <button id="agregador">Por Agregador</button>
            </nav>
    
            <nav class="mission-control option-control show-on-mode hidden" 
            data-visible-on-mode="detalhado" 
            data-mode = "detalhado"
            data-option = "variacao|acao_nova">
                <button id="inicial">Inicial</button>
                <button id="var-pct">Variação percentual</button>
                <button id="var-abs">Variação absoluta</button>
                <button id="gnd">Grupo de Despesa</button>
                <button id="acao_nova">Ações novas</button>
            </nav>

        </div>


    </fieldset>
</div>

    <main>

        <div class="controle-comparacao hidden" data-visible-on-mode="agregado">
            <p>
            Valores do PLOA. Comparar com 
            <select name="seletor-comparacao" id="">
                <option value="nada">nada</option>
            </select>
            </p>
        </div>

        <div class="controle-cores hidden" data-visible-on-mode="detalhado">

            <p>
            Colorir bolhas por 
            <select name="seletor-cores" id="">
                <option value="padrao">Padrão</option>
                <option value="fonte">Fonte de recursos</option>
                <option value="gnd">Grupo de despesas</option>
                <option value="mod">Modalidade de aplicação</option>
                <!--<option value="obrig-discr">Obrigatórias / Discricionárias</option>-->
            </select>
            </p>

            <div class="selecao-adicional-cores seletor-radio hidden" data-selecao-adicional-para="fonte">

                <input type="radio" name="cores-fontes" id="cores-fontes-tesouro" value="tesouro"> 
                <label for="cores-fontes-tesouro">Fontes Tesouro</label>

                <input type="radio" name="cores-fontes" id="cores-fontes-proprias" value="proprias">
                <label for="cores-fontes-proprias">Fontes Próprias</label>

                <input type="radio" name="cores-fontes" id="cores-fontes-emissao" value="emissao">
                <label for="cores-fontes-emissao">Fontes de Emissão</label>

            </div>

            <div class="selecao-adicional-cores seletor-radio hidden" data-selecao-adicional-para="gnd">

                <input type="radio" name="cores-gnd" id="cores-gnd-pessoal" value="pessoal"> 
                <label for="cores-gnd-pessoal">Pessoal</label>

                <input type="radio" name="cores-gnd" id="cores-gnd-custeio" value="custeio">
                <label for="cores-gnd-custeio">Custeio</label>

                <input type="radio" name="cores-gnd" id="cores-gnd-investimento" value="investimento">
                <label for="cores-gnd-investimento">Investimento</label>

                <input type="radio" name="cores-gnd" id="cores-gnd-divida" value="divida">
                <label for="cores-gnd-divida">Dívida</label>

            </div>

            <div id="legenda-cores"></div>

        </div>
        <div class="vis-container">
            <svg class="vis">

            </svg>
            <div id="tooltip" class="hidden" data-variacao="aumento|reducao|mesmo valor|nova">
                <h2>Ação <span id="tt-acao"></span> &mdash; <span id="tt-tituloacao"></span></h2>
                <p>Valor PLOA 2021: <span id="tt-PLOA"></span></p>
                <p>Valor Dotação 2020: <span id="tt-dot_atu"></span></p>
                <p>Variação: 
                    <span id="tt-var_tipo"></span> 
                    <span id="tt-var_pct_mod"></span>
                    <span id="tt-var_abs_mod"></span>
                </p>
            </div>

            <div id="card" class="hidden">

                <div class="card-header">
                    <h2 id=#card-acao>Código da Ação</h2>
                    <p id=#card-tituloacao>Título da ação</p>
                </div>

                <div class="card-vis-geral">
                    <h4>Visão geral dos valores</h4>
                    <svg id="card-vis-geral"></svg>
                </div>

                <div class="card-vis-historico">
                    <h4>Série histórica PLOAs 2016 a 2021</h4>
                    <svg id="card-vis-historico"></svg>
                </div>

                <div class="card-vis-fontes">
                    <h4>Origens dos recursos para essa ação</h4>
                    <svg id="card-vis-fontes"></svg>
                </div>

                <div class="card-vis-gnd">
                    <h4>Grupos de despesa</h4>
                    <svg id="card-vis-gnd"></svg>
                </div>

                <div class="card-vis-mod">
                    <h4>Modalidades de aplicação</h4>
                    <svg id="card-vis-mod"></svg>
                </div>

                <div class="card-vis-mod">
                    <h4>Principais órgãos</h4>
                    <svg id="card-vis-mod"></svg>
                </div>




            </div>
        </div>

    </main>

    <script src="./web/d3.v6.min.js"></script>
    <script src="./web/utils.js"></script>
    <script src="./web/vis.js"></script>

    
</body>
</html>